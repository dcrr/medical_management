<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
	<!-- Views and action for medical_history -->
		<record model="ir.ui.view" id="medical_history_form_view">
            <field name="name">medical.history.form.view</field>
            <field name="model">medical.history</field>
			<field name="type">form</field>
            <field name="arch" type="xml">   
                <form string="Medical History">
					<sheet string="Medical History">
						<div class="oe_title">
							<h1>
								<field name="code" placeholder="History Number"/>
							</h1>
						</div>
						<group col="4">
							<separator string="Patient" colspan="4"/>
							<field name="patient_id"/>
							<field name="patient_age"/>
							<field name="patient_gender" />
							<field name="patient_blood_type"/>
						</group>
						<notebook>
							<page string="Personal">
								<group>
									<field name="disease_ids"  widget="many2many_tags" placeholder="Diseases suffered by the patient"/>
									<field name="operated"/>
									<field name="operations" placeholder="What operations have you had?" attrs="{'invisible':[('operated','=',False)]}"/>
									<separator string="Medications" colspan="2"/> 
									<field name="medical_treatment" placeholder="Medical treament that you are currently consuming"/>
									<field name="medications_usually" placeholder="What medications usually consume?"/>
									<field name="medications_last5years" placeholder="What medications have you used in the last five years?"/>
									<field name="medications_allergic_b" placeholder="Are you allergic to any medications?"/>
									<field name="medications_allergic" placeholder="What medication are you allergic to?" attrs="{'invisible':[('medications_allergic_b','=',False)]}"/>
								</group>
							</page>
							<page string="Family">
								<group>
									<field name="father_alive" />
									<field name="father_disease_ids" widget="many2many_tags"/>
									<separator colspan="2"/> 
									<field name="mother_alive" />
									<field name="mother_disease_ids" widget="many2many_tags"/>
									<separator colspan="2"/> 
									<field name="brothers" />
									<field name="brother_disease_ids" widget="many2many_tags"/>
								</group>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>
		<record model="ir.ui.view" id="medical_history_tree_view">
            <field name="name">Medical History</field>
            <field name="model">medical.history</field>
            <field name="arch" type="xml">
                <tree string="Medical History">
                    <field name="code"/>
					<field name="patient_id"/>
                </tree>
            </field>
        </record>
		<record model="ir.actions.act_window" id="medical_history_action">
	        <field name="name">Medical History</field>
	        <field name="res_model">medical.history</field>	        
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
	    </record>

	<!-- Views and action for Patient -->
		<record model="ir.ui.view" id="medical_patient_form_view">
            <field name="name">medical.patient.form.view</field>
            <field name="model">res.partner</field>
			<field name="type">form</field>
            <field name="arch" type="xml">   
                <form string="Patient">
					<sheet string="Patient">
						<group col="4">	
							<group colspan="2">	
								<label string="Name" for="name"/>
								<div>						
									<field name="name" placeholder="Name" nolabel="1"/>
									<field name="last_name" placeholder="Last Name" nolabel="1"/>
								</div>
								<field name="identification" string="Identification"/>
							</group>
							<group colspan="2">	
								<field name="age"/>
								<field name="gender" />
								<field name="type" invisible="True"/>
							</group>
						</group>
						<notebook>
							<page string="General">
								<group col="4">
									<group colspan="2">
										<separator string="Personal" colspan="2"/>
										<field name="lefty"/>
										<field name="blood_type"/>
										<field name="marital"/>
										<field name="profession_id" />
									</group>
									<group colspan="2">
										<separator string="Birth Data" colspan="2"/>
										<field name="birth_country" string="Country"/>
										<field name="birth_state" string="State/Province"/>
										<field name="birthdate" widget="datetime"/> 
									</group>
								</group>
							</page>
							<page string="Contact Information">
								<group col="4">
									<label for="street" string="Address"/>
									<div class="address_format">
										<field name="street" placeholder="Street..." />
										<field name="street2" placeholder="Street 2..." />
										<field name="country_id" placeholder="Country" class="oe_no_button" options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}" />
										<field name="state_id" class="oe_no_button" placeholder="State" options="{&quot;no_open&quot;: True}"/>
										<field name="city" placeholder="City" />
									</div>
									<group colspan="2">
										<field name="email"/> 
										<field name="mobile"/>
										<field name="phone"/> 
									</group>
								</group>
							</page>
							<page string="History">
								<group col="4">
								</group>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>
		<record model="ir.ui.view" id="medical_patient_tree_view">
            <field name="name">Patient</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <tree string="Patient">
					<field name="identification"/>
                    <field name="display_name"/>
					<field name="age"/>
					<field name="gender" />
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="medical_patient_search_view">
		    <field name="name">medical.patient.search.view</field>
		    <field name="model">res.partner</field>
		    <field name="arch" type="xml">
		    	<search string="Search">
		        	<field name="name" string="name"/>
	        	</search>
		    </field>
		</record> 
		<record model="ir.actions.act_window" id="medical_patient_action">
	        <field name="name">Patient</field>
	        <field name="res_model">res.partner</field>	        
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
			<field name="context">{'default_type':'patient'}</field>
			<field name="domain">[('type','=','patient')]</field>
	        <field name="search_view_id" ref="medical_patient_search_view"/>
	    </record>
		<record model="ir.actions.act_window.view" id="medical_patient_tree_action_view">
	        <field name="act_window_id" ref="medical_patient_action"/>
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="medical_patient_tree_view"/>
    	</record>
    	<record model="ir.actions.act_window.view" id="medical_patient_form_action_view">
	        <field name="act_window_id" ref="medical_patient_action"/>
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="medical_patient_form_view"/>
    	</record>

	<!-- Views and action for medical_appointment -->
		<record model="ir.ui.view" id="medical_appointment_calendar_view">
            <field name="name">Medical Appointment</field>
            <field name="model">medical.appointment</field>
            <field name="arch" type="xml">
                <calendar string="Appointment" quick_add="False" form_view_id="medical_appointment_form_view1" color="state" day_length="24" date_start="appointment_date">
					<field name="name"/>
                    <field name="patient_id"/>
					<field name="patient_identification"/>
                </calendar>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_appointment_kanban_view">
			<field name="name">medical.appointment.kanban.view</field>
			<field name="model">medical.appointment</field>
			<field name="arch" type="xml">
	        <kanban create="false" default_group_by="state">
	               <field name="color"/>
	               <templates>
	                    <t t-name="kanban-box">
	                        <div t-attf-class="oe_kanban_color_#{kanban_getcolor(record.color.raw_value)} oe_kanban_global_click_edit oe_semantic_html_override oe_kanban_card #{record.group_fancy==1 ? 'oe_kanban_card_fancy':''}">
	                            <div class="oe_dropdown_kanban">
	                                <div class="oe_dropdown_toggle">
	                                    <span class="oe_e">#</span>
	                                    <ul class="oe_dropdown_menu">
	                                        <li><ul class="oe_kanban_colorpicker" data-field="color"/></li>
	                                    </ul>
	                                </div>
	                                <div class="oe_clear"></div>
	                            </div>
	                            <div t-attf-class="oe_kanban_content">
				                    <field name="patient_name"/><br/>
				                    <field name="appointment_date"/>
	                            </div>
	                        </div>
	                    </t>
	                </templates>
	            </kanban>
        	</field>
    	</record>
		<record model="ir.ui.view" id="medical_appointment_form_view1">
            <field name="name">medical.appointment.form.view1</field>
            <field name="model">medical.appointment</field>
			<field name="type">form</field>
            <field name="arch" type="xml">   
                <form string="Medical Appointment">
               		<header>
	            		<button string="Scheduled" class="oe_highlight"  name="scheduled" states="waiting" type="workflow" icon="terp-go-month"/>
	            		<button string="Waiting" class="oe_highlight" name="waiting" states="scheduled,in_attention" type="workflow" icon="terp-project"/>
	            		<button string="Annulled" class="oe_highlight" name="annulled" states="scheduled,waiting" type="workflow" icon="gtk-stop"/>
		                <field name="state" widget="statusbar"/>
		            </header>	
					<sheet string="Medical Appointment">
						<div class="oe_title">
							<h1>
								<field name="name" placeholder="Code"/>
							</h1>
						</div>
						<group col="4">
						<group colspan="2">
							<separator string="Patient" colspan="2"/>
							<field name="patient_id" attrs="{'readonly':[('state','in',['in_attention','attended','annulled'])]}" context="{'special_display_name': True, 'form_view_ref': 'medical_management.medical_patient_form_view', 'tree_view_ref':'medical_management.medical_patient_tree_view', 'search_view_ref':'medical_management.medical_patient_search_view'}"/>
							<field name="patient_identification" readonly="True"/>
						</group>
						<group colspan="2">	
							<separator string="Doctor" colspan="2"/>
							<field name="doctor_id" attrs="{'readonly':[('state','not in',['in_attention', False])]}" options="{'no_open': True,'create_edit': false}" context="{'special_display_name': True}"/>
							<field name="doctor_profession" widget="many2many_tags" readonly="True"/>
							<field name="doctor_specialization" widget="many2many_tags" readonly="True"/>
						</group>	
							<separator string="Schedule" colspan="4"/>
							<field name="appointment_date" attrs="{'readonly':[('state','in',['in_attention','attended','annulled'])]}" />
							<field name="assigned_by"/>
							<field name="rescheduled"/>
							<field name="postpone" attrs="{'readonly':[('state','in',['in_attention','attended','annulled'])]}"/> 
							<field name="waiting_date" attrs="{'readonly':['|',('state','in',['in_attention','attended','annulled']),('postpone','=',False)]}"/>
						</group>
					</sheet>
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="medical_appointment_calendar_action">
	        <field name="name">Medical Appointment</field>
	        <field name="res_model">medical.appointment</field>	        
	        <field name="view_type">form</field>
	        <field name="domain">[('state','in',['scheduled','waiting','in_attention'])]</field>
	        <field name="view_mode">calendar,kanban</field>
	    </record>
		<record model="ir.actions.act_window.view" id="medical_appointment_action_view1">
	        <field name="act_window_id" ref="medical_appointment_calendar_action"/>
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">calendar</field>
	        <field name="view_id" ref="medical_appointment_calendar_view"/>
    	</record>   	
    	<record model="ir.actions.act_window.view" id="medical_appointment_action_view2">
	        <field name="act_window_id" ref="medical_appointment_calendar_action"/>
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="medical_appointment_form_view1"/>
    	</record>
		<record model="ir.ui.view" id="medical_appointment_search_view1">
	    	<field name="name">medical.appointment.search.view1</field>
	        <field name="model">medical.appointment</field>
	        <field name="arch" type="xml">
	        	<search string="Medical Appointment">
	        		<field name="name"/>
	        		<field name="patient_id" context="{'special_display_name': True}"/>
	        		<field name="appointmet_type_id"/>
	        		<field name="appointment_date"/>
	        		<field name="attention_date" string="Desde Fecha Atención" filter_domain="[('attention_date','>=',self)]"/>
	        		<field name="attention_date" string="Hasta Fecha Atención" filter_domain="[('attention_date','&lt;=',self)]"/>
					<field name="waiting_date"/>
					<field name="doctor_id" context="{'special_display_name': True}"/>
					<field string="Area Afectada" name="body_area_affected_ids" />
					<field string="Disease" name="patient_disease_ids"/>
					<field name="patient_service_ids"/>
					<field name="state"/>
	        		<separate />
	        		<filter string="Scheduled" name="scheduled" domain="[('state','=','scheduled')]"/>
	        		<filter string="Waiting" name="waiting" domain="[('state','=','waiting')]"/>
	        		<filter string="In Attention" name="in_attention" domain="[('state','=','in_attention')]"/>
	        		<filter string="Attended" name="attended" domain="[('state','=','attended')]"/>
	        		<filter string="Annulled" name="annulled" domain="[('state','=','annulled')]"/>
	        		<separate />
	        		<filter string="Preventivas" name="appointmet_type_id" domain="[('appointmet_type_id.category','like','preventive')]"/>
	        		<filter string="Curativas" name="appointmet_type_id" domain="[('appointmet_type_id.category','like','curative')]"/>
	        		<group expand="0" string="Agrupado Por...">
                        <filter string="Paciente" name="patient_id" context="{'group_by': 'patient_id'}"/>
                        <filter string="Tipo de Consulta" name="appointmet_type_id" context="{'group_by': 'appointmet_type_id'}"/>
                        <filter string="Médico" name="doctor" context="{'group_by': 'doctor'}"/>
                        <filter string="Año Atención" name="attention_date" context="{'group_by': 'attention_date:year'}"/>
                        <filter string="Mes Atención" name="attention_date" context="{'group_by': 'attention_date:month'}"/>
                        <filter string="Día Atención" name="attention_date" context="{'group_by': 'attention_date:day'}" />
					</group>	
	        	</search>
	        </field>
		</record>
		<record model="ir.ui.view" id="medical_appointment_tree_view1">
            <field name="name">medical.appointment.tree.view1</field>
            <field name="model">medical.appointment</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Medical Appointment">
					<field name="patient_id"/> 
					<field name="appointmet_type_id"/>
					<field name="appointment_date"/>
					<field name="waiting_date"/>
					<field name="state"/>						
                </tree>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_appointment_form_view2">
            <field name="name">medical.appointment.form.view2</field>
            <field name="model">medical.appointment</field>
			<field name="type">form</field>
            <field name="arch" type="xml">   
                <form string="Medical Appointment">
                	<header>
	            		<button string="Scheduled" name="scheduled" states="waiting" type="workflow" icon="terp-go-today"/>
	            		<button string="Waiting" name="waiting" states="scheduled,in_attention" type="workflow" icon="terp-project"/>
	            		<button string="In Attention" name="in_attention" states="scheduled,waiting,attended" type="workflow" icon="STOCK_REDO"/>
	            		<button string="Attended" name="attended" states="in_attention" type="workflow" icon="gtk-apply"/>
	            		<button string="Annulled" name="annulled" states="scheduled,waiting" type="workflow" icon="gtk-stop"/>
		                <field name="state" widget="statusbar"/>
		            </header>
					<sheet string="Medical Appointment">
						<div class="oe_title">
			                <group col="1">
			                   <h1><label string="Medical Appointment"/></h1>
			            	</group>                       
	                    </div>
						<group col="4">
							<field name="name"/>
							<field name="rescheduled" readonly="1"/>
							<field name="appointment_date" attrs="{'readonly':[('state','in',['in_attention','attended','annulled'])]}"/>
							<field name="postpone" attrs="{'readonly':[('state','not in',['in_attention', False])]}"/>
							<field name="waiting_date" attrs="{'readonly':['|',('state','in',['in_attention','attended','annulled']),('postpone','=',False)]}"/>
							<field name="attention_date" attrs="{'readonly':['|',('state','in',['attended','annulled']),('postpone','=',False)]}"/>
							<field name="appointmet_type_id" attrs="{'readonly':[('state','=','attended')]}"/>
							<field name="assigned_by" readonly="1"/>
						</group>					
						<group col="4">
							<group colspan="4" col="6">
								<field name="patient_id" colspan="2" domain="[('type','=','patient')]" attrs="{'readonly':[('state','not in',['in_attention', False])]}" context="{'form_view_ref': 'medical_management.medical_patient_form_view', 'tree_view_ref':'medical_management.medical_patient_tree_view', 'search_view_ref':'medical_management.medical_patient_search_view'}"/>
							</group>
						</group>
						<notebook>            
				        	<page string="Medical Evaluation" >
					        	<group col="4">
					        		<field name="doctor_id" colspan="4" domain ="[('category_name', 'in',['Doctor'])]" attrs="{'readonly':[('state','not in',['in_attention', False])]}" options="{'no_open': True,'create_edit': false}"/>
									<field name="reason_for_appointment" colspan="4" attrs="{'readonly':[('state','not in',['in_attention', False])]}"/>
									<field name="patient_details" colspan="4" attrs="{'readonly':[('state','not in',['in_attention', False])]}"/>
									<field name="medical_report" colspan="4" attrs="{'readonly':[('state','not in',['in_attention', False])]}"/>
									<field name="requires_medical_leave" attrs="{'readonly':[('state','not in',['in_attention', False])]}"/>
									<field name="requires_diet" attrs="{'readonly':[('state','not in',['in_attention', False])]}"/>
									<field name="referral" attrs="{'readonly':[('state','not in',['in_attention', False])]}"/>
									<field name="referral_specialty_id" attrs="{'readonly':[('state','not in',['in_attention', False])],'invisible':[('referral','=',False)]}" />
									<!-- <field name="to_present" colspan="4" attrs="{'readonly':[('state','not in',['in_attention', False])],'invisible':[('referral','=',False)]}"/> -->
									<label string="Prescription" for="prescription" colspan="2"/>
									<label string="Indications" for="Indications" colspan="2"/>
									<field name="prescription" nolabel="1" colspan="2" attrs="{'readonly':[('state','not in',['in_attention', False])]}"/>
									<field name="prescription_indications" nolabel="1" colspan="2" attrs="{'readonly':[('state','not in',['in_attention', False])]}"/>
								</group>
				        	</page>
				        	<page string="Disease/Pathology">
				        		<group>
				        			<field name="patient_disease_ids" domain="[('active','in',[False,True])]" nolabel="1" attrs="{'readonly':[('state','not in',['in_attention', False])]}">
				        				<tree editable="bottom">
				        					<field name="idx" options="{'no_open': True,'create_edit': false}"/>
											<field name="disease_type_id" attrs="{'readonly':[('idx','=',False)]}" options="{'no_open': True,'create_edit': false}"/>
											<field name="disease_id" attrs="{'readonly':[('idx','=',False)]}" domain="[('disease_type_id','=',disease_type_id)]" options="{'no_open': True,'create_edit': false}"/>
											<field name="chronic"/>
											<field name="waste_ime"/>
											<field name="transfer"/>
											<field name="remark"/>
				        				</tree>
				        			</field>
				        		</group>      
				        	</page>
				        	<page string="Affected Area">
				        		<field name="body_area_affected_ids" nolabel="1" attrs="{'readonly':[('state','not in',['in_attention', False])]}">
				        			<tree editable="bottom">
				        				<field name="body_system_type_id" options="{'no_open': True,'create_edit': false}"/> 
										<field name="body_part_id" domain="['|',('system_id','=',type_system_id),('apparatus_id','=',type_system_id)]" options="{'no_open': True,'create_edit': false}"/>
										<field name="on_left" attrs="{'readonly':['|',('on_right','=',True),('on_both','=',True)]}" />
										<field name="on_right" attrs="{'readonly':['|',('on_left','=',True),('on_both','=',True)]}"/>
										<field name="on_both" attrs="{'readonly':['|',('on_left','=',True),('on_right','=',True)]}" />
										<field name="remark"/>
				        			</tree>
				        		</field>
				        	</page>
				        	<page string="Patient Service">
				        		<field name="patient_service_ids" nolabel="1" attrs="{'readonly':[('state','not in',['in_attention', False])]}"/>
				        	</page>
			        	</notebook>  
					</sheet>
   				</form>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_appointment_graph_view">
            <field name="name">medical.appointment.graph.view</field>
            <field name="model">medical.appointment</field>
			<field name="type">graph</field>
            <field name="arch" type="xml"> 
		        <graph string="graph" type="bar">
	                <field name="quantity"/>
	                <field name="state"/>
	            </graph>
        	</field>
    	</record>
        <record model="ir.actions.act_window" id="medical_appointment_action">
	        <field name="name">Medical Appointment</field>
	        <field name="res_model">medical.appointment</field>	        
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form,graph</field>
	        <field name="context">{'search_default_scheduled':1,'search_default_waiting':1,'search_default_in_attention':1}</field>
	        <field name="search_view_id" ref="medical_appointment_search_view1"/>
	    </record>
       <record model="ir.actions.act_window.view" id="medical_appointment_tree_action_view3">
	        <field name="act_window_id" ref="medical_appointment_action"/>
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="medical_appointment_tree_view1"/>
    	</record>
    	<record model="ir.actions.act_window.view" id="medical_appointment_form_action_view4">
	        <field name="act_window_id" ref="medical_appointment_action"/>
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="medical_appointment_form_view2"/>
    	</record>
    	<record model="ir.actions.act_window.view" id="medical_appointment_graph_action_view7">
	        <field name="act_window_id" ref="medical_appointment_action"/>
	        <field name="sequence" eval="3"/>
	        <field name="view_mode">graph</field>
	        <field name="view_id" ref="medical_appointment_graph_view"/>
    	</record>

	<!-- Views and action for medical_body_system_type -->
        <record model="ir.ui.view" id="medical_body_system_type_tree_view">
            <field name="name">medical.body.system.type.tree.view</field>
            <field name="model">medical.body.system.type</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Type Body Systems">
					<field name="type"/>
					<field name="nickname" />
					<field name="name" />
					<field name="active"/>
                </tree>
            </field>
        </record>
	 	<record model="ir.ui.view" id="medical_body_system_type_form_view">
            <field name="name">medical.body.system.type.form.view</field>
            <field name="model">medical.body.system.type</field>
			<field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Type Body System">
					<sheet string="Type Body System">
						<group col="4">
							<field name="nickname" attrs="{'readonly':['|',('system_ids','!=',[]),('body_part_ids','!=',[]) ]}"/>				    
						    <field name="type" attrs="{'readonly':['|',('system_ids','!=',[]),('body_part_ids','!=',[]) ]}" />
							<field name="name" colspan="4" attrs="{'readonly':['|',('system_ids','!=',[]),('body_part_ids','!=',[]) ]}" />
							<field name="active" attrs="{'readonly':['|',('system_ids','!=',[]),('body_part_ids','!=',[]) ]}" />
							<field name="system_ids" attrs="{'invisible':True}"/>
							<field name="body_part_ids" attrs="{'invisible':True}"/>	
						</group>		
					</sheet>
   				</form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="medical_body_system_type_action">
            <field name="name">Type Body Systems</field>
            <field name="res_model">medical.body.system.type</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
        </record>

	<!-- Views and action for medical_body_part -->
		<record model="ir.ui.view" id="medical_body_part_tree_view">
            <field name="name">medical.body.part.tree.view</field>
            <field name="model">medical.body.part</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Body Parts">
					<field name="nickname" />
					<field name="name" />	
					<field name="location"/>
					<field name="apparatus_id"/>
					<field name="system_id"/>									
					<field name="active"/>		
                </tree>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_body_part_form_view">
            <field name="name">medical.body.part.form.view</field>
            <field name="model">medical.body.part</field>
			<field name="type">form</field>
            <field name="arch" type="xml">   
                <form string="Body Parts">
					<sheet string="Body Parts">
						<group col="4">
							<field name="nickname"/>
							<field name="location"/>
							<field name="name" colspan="4"/>
							<field name="system_id"/>
							<field name="apparatus_id"  attrs="{'required':[('system_id','=',False)]}"/>
							<field name="active"/>
						</group>						
					</sheet>
   				</form>
            </field>
        </record> 
		<record model="ir.actions.act_window" id="medical_body_part_action">
            <field name="name">Body Parts</field>
            <field name="res_model">medical.body.part</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>            
        </record>
	
	<!-- Views and action for medical_disease_classification -->
		<record model="ir.ui.view" id="medical_disease_classification_form_view">
            <field name="name">medical.disease.classification.form.view</field>
            <field name="model">medical.disease.classification</field>
			<field name="type">form</field>
            <field name="arch" type="xml">   
                <form string="Disease Classification">
					<sheet string="Disease Classification">
						<group>
							<field name="name"/>
							<field name="version"/>
							<field name="description"/>
							<field name="active"/>
						</group>	
						<div >
							<label string="Diseases Types" for="disease_type_ids" />
							<field name="disease_type_ids"/>
						</div>				
					</sheet>
   				</form>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_disease_classification_tree_view">
            <field name="name">medical.disease.classification.tree.view</field>
            <field name="model">medical.disease.classification</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Disease Classification">
					<field name="name"/>
					<field name="version"/>
					<field name="description"/>
					<field name="active"/>	
                </tree>
            </field>
        </record>		
		<record model="ir.actions.act_window" id="medical_disease_classification_action">
            <field name="name">Diseases Classification</field>
            <field name="res_model">medical.disease.classification</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>            
        </record>

	<!-- Views and action for medical_type_disease -->
		<record model="ir.actions.act_window" id="medical_disease_by_type_action">
            <field name="name">Diseases By Type</field>
			<field name="res_model">medical.disease</field> 			
			<field name="domain">[('disease_type_id', '=', [active_id])]</field> 
			<field name="view_type">tree</field>
			<field name="view_mode">tree,form</field>   
			<field name="target">new</field>
		</record>
		<record model="ir.ui.view" id="medical_disease_type_form_view">
            <field name="name">medical.disease.type.form.view</field>
            <field name="model">medical.disease.type</field>
			<field name="type">form</field>
            <field name="arch" type="xml">   
                <form string="Type of Disease">
					<sheet string="Type of Disease">				
						<group>
							<field name="code" attrs="{'readonly':[('disease_ids','!=',[])]}"/>
							<field name="name" attrs="{'readonly':[('disease_ids','!=',[])]}" />
							<field name="classification_id"/>
							<field name="active"/>			
						</group>
						<div colspan="2">
							<label string="Diseases" for="disease_ids" />
							<field name="disease_ids"/>
						</div>
					</sheet>
   				</form>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_disease_type_tree_view">
            <field name="name">medical.disease.type.tree.view</field>
            <field name="model">medical.disease.type</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Type of Disease">
					<field name="code" />
					<field name="name"/>
					<field name="active"/>	
                </tree>
            </field>
        </record>		
		<record model="ir.actions.act_window" id="medical_disease_type_action">
            <field name="name">Types of Diseases</field>
            <field name="res_model">medical.disease.type</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>            
        </record>

	<!-- Views and action for medical_disease -->
		<record model="ir.ui.view" id="medical_disease_form_view">
            <field name="name">medical.disease.form.view</field>
            <field name="model">medical.disease</field>
			<field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Diseases">
					<sheet string="Disease">
						<group>
							<field name="code"/>
							<field name="disease_type_id" />
						    <field name="name" />
							<field name="active"/>	
						</group>						
					</sheet>
   				</form>
            </field>
        </record>	
		<record model="ir.ui.view" id="medical_disease_tree_view">
            <field name="name">medical.disease.tree.view</field>
            <field name="model">medical.disease</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Diseases " version="7.0">
					<field name="code"/> 
					<field name="name" select="1"/>
					<field name="disease_type_id"/>
					<field name="active"/>	
                </tree>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_disease_search_view">
            <field name="name">medical.disease.search.view</field>
            <field name="model">medical.disease</field>
            <field name="arch" type="xml">
               <search string="Diseases"> 
                    <field name="name" string="Disease" />
					<field name="disease_type_id" string="Type"/> 
                    <separator/>
						<filter string="Activas" name="enfermedad_activa" domain="[('active','=',True)]"/>
						<filter string="Inactivas" name="enfermedad_inactiva" domain="[('active','=',False)]"/>
                    <separator/>
					<group expand="0" string="Group By...">
                        <filter string="Types of Deseases" name="disease_type_id" icon="terp-personal" domain="[]"  context="{'group_by': 'disease_type_id'}"/>
					</group>
                </search>
            </field>
        </record> 
		<record model="ir.actions.act_window" id="medical_disease_action">
            <field name="name">Diseases</field>
            <field name="res_model">medical.disease</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>     
			<field name="search_view_id" ref="medical_disease_search_view"/> 	
        </record>

	<!-- Views and action for medical_appointment_type -->
		<record model="ir.ui.view" id="medical_appointment_type_form_view">
            <field name="name">medical.appointment.type.form.view</field>
            <field name="model">medical.appointment.type</field>
			<field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Types of Medical Appointments">
					<sheet string="Types of Medical Appointments">			
						<group col="4">
							<field name="name"/>
							<field name="category"/>	
							<field name="description" colspan="4"/>
							<field name="active"/>
						</group>	
					</sheet>
   				</form>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_appointment_type_tree_view">
            <field name="name">medical.appointment.type.tree.view</field>
            <field name="model">medical.appointment.type</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Types of Medical Appointments">
					<field name="category"/>
					<field name="name" />
					<field name="description"/>		
					<field name="active"/>		
                </tree>
            </field>
        </record>
		<record model="ir.actions.act_window" id="medical_appointment_type_action">
            <field name="name">Types of Medical Appointments</field>
			<field name="res_model">medical.appointment.type</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>    
        </record>
	
	<!-- Views and action for medical_nursing_service -->
		<record model="ir.ui.view" id="medical_nursing_service_form_view">
            <field name="name">medical.nursing.service.form.view</field>
            <field name="model">medical.nursing.service</field>
			<field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Nursing Services">
					<sheet string="Nursing Services">	
						<group col="4">
							<field name="name" />
						    <field name="category"/>
							<field name="description" colspan="4"/>
							<field name="range"/>		
							<field name="normal" attrs="{'invisible':[('range','=',False)]}"/>
							<field name="minimum" attrs="{'invisible':[('range','=',False)]}"/>
							<field name="maximum" attrs="{'invisible':[('range','=',False)]}"/>
							<field name="active"/>	
						</group>						
					</sheet>
   				</form>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_nursing_service_tree_view">
            <field name="name">medical.nursing.service.tree.view</field>
            <field name="model">medical.nursing.service</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Nursing Services" version="7.0">
					<field name="category"/>
					<field name="name" />
					<field name="description"/>			
					<field name="active"/>		
                </tree>
            </field>
        </record>
		<record model="ir.actions.act_window" id="medical_nursing_service_action">
            <field name="name">Nursing Services</field>
			<field name="res_model">medical.nursing.service</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>    
        </record>
	
	<!-- Views and action for medical staff (hr_employee) -->
		<record model="ir.ui.view" id="medical_staff_form_view">
            <field name="name">medical.staff.form.view</field>
            <field name="model">hr.employee</field>
			<field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Medical Staff">
					<sheet string="Medical Staff">
						<div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h1>
                                <field name="name"/>
                            </h1>
							<field name="category_ids" widget="many2many_tags" required="True"/>
                            <label for="profession_ids" class="oe_edit_only"/>
                            <field name="profession_ids" widget="many2many_tags" placeholder="Doctor"/>
							<label for="specialization_ids" class="oe_edit_only"/>
                            <field name="specialization_ids" widget="many2many_tags" placeholder="Cardiologist"/>
                        </div>	
						<notebook>
                            <page string="Contact Information">
                                <group col="4">
                                    <field name="mobile_phone"/>
                                    <field name="work_location" string="Doctor's Office"/>
									<field name="user_id" widget="selection"/>
									<field name="active"/>
                                </group>
                            </page>
							<page string="Schedule">
                                <group>
								<field name="schedule_ids"/>
                                </group>
                            </page>			
						</notebook>
					</sheet>
   				</form>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_staff_tree_view">
            <field name="name">medical.staff.tree.view</field>
            <field name="model">hr.employee</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Medical Staff">
					<field name="name"/>
					<field name="user_id"/>							
					<field name="active"/>		
                </tree>
            </field>
        </record>
		<record model="ir.actions.act_window" id="medical_staff_action">
            <field name="name">Medical Staff</field>
			<field name="res_model">hr.employee</field>
			<field name="view_type">form</field>
			<field name="domain">[('category_name', 'in',['Doctor'])]</field>
			<field name="view_mode">tree,form</field>    
        </record>	
        <record model="ir.actions.act_window.view" id="medical_staff_tree_action_view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="medical_staff_tree_view"/>
            <field name="act_window_id" ref="medical_staff_action"/>
        </record>
        <record model="ir.actions.act_window.view" id="medical_staff_form_action_view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="medical_staff_form_view"/>
            <field name="act_window_id" ref="medical_staff_action"/>
        </record>

	<!-- Views and action for specialization -->
		<record model="ir.ui.view" id="specialization_tree_view">
            <field name="name">specialization.tree.view</field>
            <field name="model">specialization</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Specializations">
                    <field name="name" />
					<field name="active"/>        															
				</tree>
            </field>
        </record>
		<record model="ir.ui.view" id="specialization_form_view">
            <field name="name">specialization.form.view</field>
            <field name="model">specialization</field>
			<field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Specializations">
					<sheet string="Specializations">
						<group>
							<field name="name" required="1"/>
							<field name="active"/>
						</group>						
					</sheet>
   				</form>
            </field>
        </record>
		<record model="ir.actions.act_window" id="specialization_action">
            <field name="name">Specializations</field>
			<field name="res_model">specialization</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>   
        </record>

	<!-- Views and action for profession -->
		<record model="ir.ui.view" id="profession_tree_view">
            <field name="name">profession.tree.view</field>
            <field name="model">profession</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Professions">
                    <field name="name" />
					<field name="active"/>        															
				</tree>
            </field>
        </record>
		<record model="ir.ui.view" id="profession_form_view">
            <field name="name">profession.form.view</field>
            <field name="model">profession</field>
			<field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Professions">
					<sheet string="Professions">
						<group>
							<field name="name" required="1"/>
							<field name="active"/>
						</group>						
					</sheet>
   				</form>
            </field>
        </record>
		<record model="ir.actions.act_window" id="profession_action">
            <field name="name">Profession</field>
			<field name="res_model">profession</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>   
        </record>

	<!-- Views and action for medical_diagnostic_impression -->
		<record model="ir.ui.view" id="medical_diagnostic_impression_form_view">
	     	<field name="name">medical.diagnostic.impression.form.view</field>
	        <field name="model">medical.diagnostic.impression</field>
			<field name="type">form</field>
	        <field name="arch" type="xml">
	        	<form string="Diagnostic Impression">
					<sheet string="Diagnostic Impression">
						<group col="2">
							<field name="name" required="1"/>
							<field name="description"/>
							<field name="active"/>
						</group>
					</sheet>					
	          	</form>
	     	</field>
     	</record>
		<record model="ir.ui.view" id="medical_diagnostic_impression_search_view">
	    	<field name="name">medical.diagnostic.impression.search.view</field>
	        <field name="model">medical.diagnostic.impression</field>
	        <field name="arch" type="xml">
	        	<search string="Diagnostic Impression">
	        		<field name="name"/>
	        		<field name="description"/>
	        		<field name="active"/>
	        	</search>
	        </field>
		</record>
	 	<record model="ir.ui.view" id="medical_diagnostic_impression_tree_view">
            <field name="name">medical.diagnostic.impression.tree.view</field>
            <field name="model">medical.diagnostic.impression</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
            	<tree string="Diagnostic Impression" version="7.0">
					<field name="name"/>
					<field name="description"/>
					<field name="active"/>	
                </tree>
            </field>
     	</record>
		<record model="ir.actions.act_window" id="medical_diagnostic_impression_action">
	        <field name="name">Diagnostic Impression</field>
	        <field name="res_model">medical.diagnostic.impression</field>	        
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
		</record> 
		
	<!-- Views and action for medical_activity_type -->
		<record model="ir.ui.view" id="medical_activity_type_form_view">
	     	<field name="name">medical.activity.type.form.view</field>
	        <field name="model">medical.activity.type</field>
			<field name="type">form</field>
	        <field name="arch" type="xml">
	        	<form string="Type Activity">
					<sheet string="Type Activity">
						<group col="4">
							<field name="name" required="1"/>
							<field name="service_type"/>
							<field name="description" colspan="4"/>
							<field name="type_medical_service"/>
							<field name="active"/>
						</group>
					</sheet>					
	          	</form>
	     	</field>
     	</record>
	 	<record model="ir.ui.view" id="medical_activity_type_tree_view">
            <field name="name">medical.activity.type.tree.view</field>
            <field name="model">medical.activity.type</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
            	<tree string="Activity">
            		<field name="name"/>
            		<field name="description"/>
					<field name="service_type"/>
					<field name="type_medical_service"/>
					<field name="active"/>
                </tree>
            </field>
     	</record>
	 	<record model="ir.actions.act_window" id="medical_activity_type_action">
	        <field name="name">Type of Activity</field>
	        <field name="res_model">medical.activity.type</field>	        
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
		</record> 

	<!-- Views and action for medical_activity -->
		<record model="ir.ui.view" id="medical_activity_search_view">
            <field name="name">medical.activity.search</field>
            <field name="model">medical.activity</field>
            <field name="arch" type="xml">
               <search string="Activity">
					<field string="Inicio Fecha Programada" name="programming_date" filter_domain="[('programming_date','>=',self)]" />
					<field string="Fin Fecha Programada" name="programming_date" filter_domain="[('programming_date','&lt;=',self)]" />
					<field string="Inicio Fecha Ejecución" name="execution_date" filter_domain="[('execution_date','>=',self)]" />
					<field string="Fin Fecha Ejecución" name="execution_date" filter_domain="[('execution_date','&lt;=',self)]" />
					<field string="Tipo de Actividad" name="activity_type_id" context="{'group_by': 'type_activity_id'}"/>
	        		<field string="State" name="state" context="{'group_by': 'state'}"/>
					<filter string="Borrador" name="state" domain="[('state','=','draft')]"/>
					<filter string="Programado" name="state" domain="[('state','=','programmed')]"/>
					<filter string="En Ejecución" name="state" domain="[('state','=','running')]"/>
					<filter string="Ejecutado" name="state" domain="[('state','=','executed')]"/>
					<filter string="Anulado" name="state" domain="[('state','=','annulled')]"/>
					<separate />
	        		<group expand="0" string="Agrupado Por...">
	        			<filter string="Tipo de Actividad" name="activity_type_id" context="{'group_by': 'type_activity_id'}"/>
	        			<filter string="State" name="state" context="{'group_by': 'state'}"/>
	        			<filter string="Mes Ejecución" name="execution_date" context="{'group_by': 'execution_date:month'}"/>
	        			<filter string="Año Ejecución" name="execution_date" context="{'group_by': 'execution_date:year'}"/>
	        		</group>
                </search>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_activity_tree_view">
            <field name="name">medical.activity.tree.view</field>
            <field name="model">medical.activity</field>
			<field name="type">tree</field>
            <field name="arch" type="xml">
            	<tree string="Activity">
					<field name="name"/>
					<field name="programming_date"/>
					<field name="activity_type_id"/>
					<field name="remark"/>	
                </tree>
            </field>
     	</record>
		<record model="ir.ui.view" id="medical_activity_calendar_view">
            <field name="name">Activity</field>
            <field name="model">medical.activity</field>
            <field name="arch" type="xml">
                <calendar string="Activities" quick_add="False" form_view_id="medical_activity_form_view" color="activity_type_id" day_length="24" date_start="programming_date">
                    <field name="programming_date"/>
                    <field name="activity_type_id"/>
                </calendar>
            </field>
        </record>
		<record model="ir.ui.view" id="medical_activity_form_view">
            <field name="name">medical.activity.form.view</field>
            <field name="model">medical.activity</field>
			<field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Activity">
                	<header>
	            		<button string="Programmed" name="programmed" states="draft,running" type="workflow" icon="terp-go-today"/>
	            		<button string="Running"  name="running" states="draft,programmed,executed" type="workflow" icon="gtk-go-forward"/>
	            		<button string="Executed" name="executed" states="running" type="workflow" icon="gtk-apply"/>
	            		<button string="Annulled"  name="annulled" states="draft,programmed" type="workflow" icon="gtk-stop"/>
		                <field name="state" widget="statusbar"/>
		            </header>
					<sheet string="Activity">
						<div class="oe_title">
			                <group col="1">
			                	<h1><label string="Activity"/></h1>
			            	</group>
			            </div>
			            <group>
			            <group>
			            	<field name="name"/>
			            	<field name="activity_type_id" attrs="{'readonly':[('state','in',['executed','annulled'])]}"/>
			            	<field name="programming_date" attrs="{'readonly':[('state','in',['executed','annulled'])]}"/>
			            	<field name="start_date" attrs="{'readonly':[('state','in',['executed','annulled'])]}"/>
			            	<field name="end_date" attrs="{'readonly':[('state','in',['executed','annulled'])]}"/>
			            	<field name="execution_date"/>
			            	<field name="executed_date"/>      		
			            </group>
			            <group col="4">
			            	<field name="rescheduled"/>
			            	<field name="postpone" attrs="{'readonly':[('state','in',['executed','annulled'])]}"/>
			            	<field name="create_date"/>
			            	<newline/>
			            	<field name="programmed_by" colspan="4"/>
			            	<field name="type_partakers" colspan="4" attrs="{'readonly':[('state','in',['executed','annulled'])]}"/>
			            	<field name="remark" colspan="4" attrs="{'readonly':[('state','in',['executed','annulled'])]}"/>
			            </group>
			            </group>
			            <notebook>
			            	<page string="Task">
				        		<field name="activity_task_ids" attrs="{'readonly':[('state','in',['executed','annulled'])]}">
				        			<tree editable="bottom">
				        				<field name="summary"/>
										<field name="time" widget="float_time"/>
										<field name="date"/>
										<field name="staff_id"/>
				        			</tree>
				        		</field>
				        	</page>
				        	<page string="Attended">
				        		<field name="patient_ids" attrs="{'readonly':[('state','in',['executed','annulled'])]}">
				        			<tree editable="bottom">
										<field name="display_name"/>
										<field name="identification"/>
										<field name="gender"/>
										<field name="birthdate"/>
										<field name="age"/>
				        			</tree>
				        		</field>
				        	</page>
				        	<page string="Medical Staff">
				        		<field name="staff_ids" attrs="{'readonly':[('state','in',['executed','annulled'])]}">
				        			<tree>
				        				<field name="display_name"/>
				        				<field name="profession_ids" widget="many2many_tags"/>
										<field name="specialization_ids" widget="many2many_tags"/>
				        			</tree>
				        		</field>
				        	</page>  
				        	<page string="Nursing Attention">
				        		<group col="1">
					        		<field name="nursing_service_ids" nolabel="1" attrs="{'readonly':[('state','in',['executed','annulled'])]}">
					        			<tree>
					        				<field name="name"/>
					        			</tree>
					        		</field>
					        		<group class="oe_subtotal_footer oe_right">
						        		<field name="served_qty" widget="monetary"/>
						        		<field name="total_served" widget="monetary"/>	
					        		</group>
				        		</group>
				        	</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>
		<record model="ir.ui.view" id="medical_activity_graph_view">
            <field name="name">medical.activity.graph.view</field>
            <field name="model">medical.activity</field>
			<field name="type">graph</field>
            <field name="arch" type="xml"> 
		        <graph string="graph" type="bar">
	                <field name="state"/>
	                <field name="activity_type_id"/>
	            </graph>
        	</field>
    	</record>     	
	 	<record model="ir.actions.act_window" id="medical_activity_action">
	        <field name="name">Activities</field>
	        <field name="res_model">medical.activity</field>	        
	        <field name="view_type">form</field>
	        <field name="view_mode">calendar,tree,form,graph</field>
		</record>
		<record model="ir.actions.act_window.view" id="medical_activity_action_view1">
	        <field name="act_window_id" ref="medical_activity_action"/>
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">calendar</field>
	        <field name="view_id" ref="medical_activity_calendar_view"/>
    	</record>
		<record model="ir.actions.act_window.view" id="medical_activity_action_view2">
	        <field name="act_window_id" ref="medical_activity_action"/>
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="medical_activity_tree_view"/>
    	</record>
		<record model="ir.actions.act_window.view" id="medical_activity_action_view3">
	        <field name="act_window_id" ref="medical_activity_action"/>
	        <field name="sequence" eval="3"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="medical_activity_form_view"/>
    	</record>
		<record  model="ir.actions.act_window.view" id="medical_activity_action_view4">
	        <field name="act_window_id" ref="medical_activity_action"/>
	        <field name="sequence" eval="4"/>
	        <field name="view_mode">graph</field>
	        <field name="view_id" ref="medical_activity_graph_view"/>
    	</record>
    	
	</data>
</openerp>